project:
  name:     Brain Break
  version:  1
  url:      http://www.dylanmccall.com


requires:
  xcb:
    type: package
    version: 1.7
    mandatory: True
  xcb-screensaver:
    type: package
    version: 1.7
    mandatory: True
  glib-2.0:
    type: package
    mandatory: True
  gio-2.0:
    type: package
    version: 2.30.0
    mandatory: True
  gio-unix-2.0:
    type: package
    version: 2.30.0
    mandatory: True
  gtk+-3.0:
    type: package
    version: 3.0.8
    mandatory: True
  gee-1.0:
    type: package
    version: 0.6.2
    mandatory: True
  libnotify:
    type: package
    version: 0.4.5
    mandatory: True

targets:
  common:
    tool: vala
    type: staticlib
    path: common
    input:
      - NaturalTime.vala
    defines:
      - GETTEXT_PACKAGE="brainbreak"
    packages:
      - glib-2.0
  
  activity-monitor-backend:
    tool: cc
    type: staticlib
    path: helper/util/activity-monitor
    input:
      - magic_xcb.c
    packages:
      - xcb
      - xcb-screensaver
  
  brainbreak:
    tool: vala
    type: program
    path: helper
    input:
      - BreakManager.vala
      - BreakOverlay.vala
      - BreakFocusManager.vala
      - main.vala
      - ScreenOverlay.vala
      - UIManager.vala
      - IFocusManager.vala
      - util/activity-monitor/ActivityMonitor.vala
      - util/CleverTimeout.vala
      - util/Countdown.vala
      - break/BreakType.vala
      - break/Break.vala
      - break/BreakView.vala
      - break/TimerBreakStatusWidget.vala
      - break/TimerBreak.vala
      - break/TimerBreakView.vala
      - microbreak/MicroBreakType.vala
      - microbreak/MicroBreak.vala
      - microbreak/MicroBreakView.vala
      - restbreak/RestBreakType.vala
      - restbreak/RestBreak.vala
      - restbreak/RestBreakView.vala
    defines:
      - GETTEXT_PACKAGE="brainbreak"
    uses:
      - common
      - activity-monitor-backend
    packages:
      - glib-2.0
      - gio-2.0
      - gtk+-3.0
      - gee-1.0
      - libnotify
  
  brainbreak-settings:
    tool: vala
    type: program
    path: settings
    input:
      - ApplicationPanel.vala
      - BreakPanel.vala
      - BreakType.vala
      - main.vala
      - MicroBreakType.vala
      - Panel.vala
      - QuietMode.vala
      - QuietModePanel.vala
      - RestBreakType.vala
      - SettingsDialog.vala
      - TimeChooser.vala
      - TimerBreakPanel.vala
      - TimerBreakType.vala
    uses:
      - common
    defines:
      - GETTEXT_PACKAGE="brainbreak"
    packages:
      - gtk+-3.0
      - gio-2.0
      - gio-unix-2.0
      - gee-1.0

